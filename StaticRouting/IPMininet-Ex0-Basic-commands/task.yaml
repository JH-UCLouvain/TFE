author: Emilie Deprez, Jeremy Holodiline
contact_url: ''
context: |-
    This exercise aims to teach you the basic network configuration commands in a virtual network simulated by IPMininet. It uses a ssh session that you can start by directly clicking the "Submit" button and by following the instructions. When you are done entering your Mininet commands, you can write the ``exit`` command to close the session and the exercice will end. The grading for this exercice is not important while the network is already configured, the goal is to show you the main basic commands to retreive some information about the current state of the network. We will consider the following network topology :

    .. image:: IPMininet-Ex0-Basic-commands/topology.png

    You can find below some commands that can help you to analyse the network :

    ``nodes`` : shows all nodes in the network.

    .. code-block:: console

          mininet> nodes
          available nodes are:
          h1 h2 h3 r1 r2 r3 r4

    ``links`` : shows all links between nodes in the network.

    .. code-block:: console

          mininet> links
          h1-eth0<->r1-eth0 (OK OK)
          r1-eth1<->r2-eth0 (OK OK)
          r1-eth2<->r3-eth0 (OK OK)
          r2-eth2<->h2-eth0 (OK OK)
          r2-eth1<->r4-eth0 (OK OK)
          r3-eth2<->h3-eth0 (OK OK)
          r3-eth1<->r4-eth1 (OK OK)

    ``<node> ip -6 addr`` : shows all IPv6 addresses of a particular node.

    .. code-block:: console

          mininet> h1 ip -6 addr
          1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 state UNKNOWN qlen 1000
             inet6 ::1/128 scope host
                valid_lft forever preferred_lft forever
          2: h1-eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 state UP qlen 1000
             inet6 2001:db8:1341:1::a/64 scope global
                valid_lft forever preferred_lft forever
             inet6 fe80::e066:7aff:fe1a:73ef/64 scope link
                valid_lft forever preferred_lft forever

    In this example we can see that ``h1`` uses ``2001:db8:1341:1::a/64`` as IPv6 address on its ``h1-eth0`` interface. We can obviously do the same for IPv4 addresses with the ``-4`` option.

    ``<node> ip -6 route`` : shows all IPv6 routes in a routing table of a particular node.

    .. code-block:: console

          mininet> h1 ip -6 route
          2001:db8:1341:1::/64 dev h1-eth0 proto kernel metric 256 pref medium
          fe80::/64 dev h1-eth0 proto kernel metric 256 pref medium
          default via 2001:db8:1341:1::1 dev h1-eth0 metric 1024 pref medium

    We can see here that the default route on ``h1`` is configured on ``2001:db8:1341:1::1`` corresponding to the ``h1-eth0`` interface.

    ``<node> ping -6 <address>`` : ping from a particular node to the specified IP address.

    .. code-block:: console

            mininet> h1 ping -6 2001:db8:1341:2::b
            PING 2001:db8:1341:2::b(2001:db8:1341:2::b) 56 data bytes
            64 bytes from 2001:db8:1341:2::b: icmp_seq=1 ttl=62 time=0.259 ms
            64 bytes from 2001:db8:1341:2::b: icmp_seq=2 ttl=62 time=0.096 ms
            64 bytes from 2001:db8:1341:2::b: icmp_seq=3 ttl=62 time=0.116 ms
            ^C
            --- 2001:db8:1341:2::b ping statistics ---
            3 packets transmitted, 3 received, 0% packet loss, time 2044ms
            rtt min/avg/max/mdev = 0.096/0.157/0.259/0.072 ms

    ``ping6all`` : ping (IPv6) from all hosts to all other hosts.

    .. code-block:: console

          mininet> ping6all
          *** Ping: testing reachability over IPv6
          h1 --IPv6--> h2 h3
          h2 --IPv6--> h1 h3
          h3 --IPv6--> h1 h2
          *** Results: 0% dropped (6/6 received)

    ``<node> traceroute -6 <address>`` : shows the route taken by a packet from a particular node to the specified IP address.

    .. code-block:: console

          mininet> h1 traceroute -6 2001:db8:1341:2::b
          traceroute to 2001:db8:1341:2::b (2001:db8:1341:2::b), 30 hops max, 80 byte packets
          1  r1 (2001:db8:1341:1::1)  0.117 ms  0.021 ms  0.022 ms
          2  r2 (2001:db8:1341:12::2)  0.056 ms  0.032 ms  0.029 ms
          3  h2 (2001:db8:1341:2::b)  0.052 ms  0.026 ms  0.025 ms

    These commands could be usefull for later exercices. You are free to try these commands by yourself with the ssh session. The topology is the same but the IP addresses will be different during the ssh session.
environment_id: ipmininet
environment_parameters:
    limits:
        time: '600'
        hard_time: ''
        memory: '512'
    network_grading: 'on'
    run_cmd: ''
environment_type: docker-ssh
file: ''
input_random: 0
name: IPMininet Ex0 - Basic commands
network_grading: false
problems: {}
